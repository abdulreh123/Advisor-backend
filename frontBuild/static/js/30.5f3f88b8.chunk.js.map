{"version":3,"sources":["views/buildings/AllBuildings.js","actions/buildingActions.js"],"names":["AllBuildings","buildings","useSelector","state","building","dispatch","useDispatch","useEffect","axios","get","then","api","type","GET_BUILDINGS","payload","data","catch","error","returnErrors","response","message","status","columns","selector","name","sortable","cell","row","className","style","margin","ignoreRowClick","allowOverflow","striped","responsive","pagination","highlightOnHover","subHeaderAlign","noHeader"],"mappings":"oQAoEeA,UA9DM,WACjB,IAAMC,EAAYC,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAASH,aAClDG,EAAWF,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAASH,aACjDI,EAAWC,cACjBC,qBAAU,WACNF,GCF4B,SAAAA,GAChCG,IAAMC,IAAN,kBACKC,MAAK,SAAAC,GACFN,EAAS,CACLO,KAAMC,IACNC,QAASH,EAAII,KAAKA,UAGzBC,OAAM,SAAAC,GACHZ,EAASa,YAAaD,EAAME,SAASJ,KAAKK,QAASH,EAAME,SAASE,iBDNvE,CAAChB,EAASD,IAEb,IAAIkB,EAAU,CACV,CACEC,SAAU,OACVC,KAAM,OACNC,UAAU,GACZ,CACEF,SAAU,YACVC,KAAM,YACNC,UAAU,GAEZ,CACEF,SAAU,WACVC,KAAM,WACNC,UAAU,GAEZ,CACED,KAAM,UACNE,KAAM,SAACC,GAAD,OACJ,sBAAKC,UAAU,aAAf,UACE,sBACAC,MAAO,CAACC,OAAQ,QADhB,kBASA,8CAKJC,gBAAgB,EAChBC,eAAe,IAGvB,OACI,mCAEF,cAAC,IAAD,CACQV,QAASA,EACTP,KAAMd,GAAwB,GAC9BgC,SAAS,EACTC,YAAY,EACZC,YAAY,EACZC,kBAAkB,EAClBC,eAAe,SACfC,UAAU","file":"static/js/30.5f3f88b8.chunk.js","sourcesContent":["import React,{useEffect} from 'react'\r\nimport DataTable from \"react-data-table-component\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  fetchBuildings\r\n} from \"../../actions/buildingActions\";\r\nconst AllBuildings = () => {\r\n    const buildings = useSelector((state) => state.building.buildings);\r\n    const building = useSelector((state) => state.building.buildings);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(fetchBuildings());\r\n    }, [dispatch,building]);\r\n\r\n    let columns = [\r\n        {\r\n          selector: \"name\",\r\n          name: \"Name\",\r\n          sortable: true,},\r\n        {\r\n          selector: \"longitude\",\r\n          name: \"Longitude\",\r\n          sortable: true\r\n        },\r\n        {\r\n          selector: \"latitude\",\r\n          name: \"Latitude\",\r\n          sortable: true\r\n        },\r\n        {\r\n          name: \"Actions\",\r\n          cell: (row) => (\r\n            <div className=\"table-icon\">\r\n              <span\r\n              style={{margin: '1rem'}}\r\n                // onClick={() => {\r\n                //   toggleEditModal(!editModal);\r\n                //   getDepartmentData(row.id);\r\n                // }}\r\n              >\r\n                  Edit\r\n              </span>\r\n              <span >\r\n                  Delete\r\n              </span>\r\n            </div>\r\n          ),\r\n          ignoreRowClick: true,\r\n          allowOverflow: true,\r\n        },\r\n      ];\r\n  return (\r\n      <>\r\n    \r\n    <DataTable\r\n            columns={columns}\r\n            data={buildings ? buildings : []}\r\n            striped={true}\r\n            responsive={true}\r\n            pagination={true}\r\n            highlightOnHover={true}\r\n            subHeaderAlign=\"center\"\r\n            noHeader={true}\r\n          />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AllBuildings\r\n","import {\r\n    GET_BUILDINGS,\r\n    ADD_BUILDINGS\r\n} from './types';\r\nimport axios from 'axios';\r\nimport { returnErrors } from \"./errorActions\";\r\n//import Cookies from 'js-cookie';\r\n\r\n\r\nexport const fetchBuildings = () => dispatch => {\r\n    axios.get(`/api/buildings`,  )\r\n        .then(api => {\r\n            dispatch({\r\n                type: GET_BUILDINGS,\r\n                payload: api.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const getBuildings = (id) => dispatch => {\r\n    axios.get(`/api/buildings/${id}`,  )\r\n        .then(buildings => {\r\n            dispatch({\r\n                type: ADD_BUILDINGS,\r\n                payload: buildings.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const AddBuildings = (data) => (dispatch) => {\r\n    axios.post(\"/api/buildings/create\", data,  )\r\n        .then(buildings => {\r\n            dispatch({\r\n                type: ADD_BUILDINGS,\r\n                payload: buildings.data.data\r\n            });\r\n            dispatch(returnErrors(buildings.data.message, buildings.status));\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n }\r\nexport const updateBuildings = (data, id) => (dispatch) => {\r\n    axios.put(`/api/buildings/${id}`, data,  )\r\n        .then(buildings => {\r\n            dispatch({\r\n                type: ADD_BUILDINGS,\r\n                payload: buildings.data.data\r\n            });\r\n           dispatch(returnErrors(buildings.data.message, buildings.status));\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n}\r\nexport const deleteBuildings = (id) => (dispatch) => {\r\n\r\n    axios.delete(`/api/buildings/${id}`,  )\r\n        .then(buildings => {\r\n            dispatch({\r\n                type: ADD_BUILDINGS,\r\n                payload: buildings.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\n"],"sourceRoot":""}