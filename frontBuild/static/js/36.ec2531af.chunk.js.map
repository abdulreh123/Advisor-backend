{"version":3,"sources":["actions/groupActions.js","views/settings/settings.js"],"names":["fetchGroup","dispatch","axios","get","then","api","type","GET_GROUPS","payload","data","catch","error","returnErrors","response","message","status","getGroup","id","group","ADD_GROUP","checkClash","ids","getGroupDepartment","GET_DEPARTMENT_GROUP","AddGroup","post","OfferCourses","getYear","GET_YEAR","year","setYear","console","log","MultiSelectLabel","styled","span","Settings","useState","setData","useDispatch","useSelector","state","arrayYears","useEffect","acayear1","JSON","parse","slice","i","push","years","xs","md","action","method","encType","className","row","custom","name","onChange","e","target","value","map","yea","selected","size","color","onClick","preventDefault","document","getElementById","reset"],"mappings":"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","file":"static/js/36.ec2531af.chunk.js","sourcesContent":["import { returnErrors } from \"./errorActions\";\r\nimport {\r\n    GET_GROUPS,\r\n    ADD_GROUP,\r\n    GET_DEPARTMENT_GROUP,\r\n    GET_YEAR\r\n} from './types';\r\nimport axios from 'axios';\r\n//import Cookies from 'js-cookie';\r\n\r\n\r\nexport const fetchGroup = () => dispatch => {\r\n    axios.get(`/api/group`,  )\r\n        .then(api => {\r\n            dispatch({\r\n                type: GET_GROUPS,\r\n                payload: api.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const getGroup = (id) => dispatch => {\r\n    axios.get(`/api/group/${id}`,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const checkClash = (ids) => dispatch => {\r\n    axios.get(`/api/group/clash/[${ids}]`,  )\r\n        .then(group => {\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const getGroupDepartment = (id) => dispatch => {\r\n    axios.get(`/api/group/department/${id}` )\r\n        .then(group => {\r\n            dispatch({\r\n                type: GET_DEPARTMENT_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const AddGroup = (data) => (dispatch) => {\r\n    axios.post(\"/api/group/create\", data,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n           dispatch(returnErrors(group.data.message, group.status));\r\n        })\r\n         .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n         })\r\n\r\n }\r\nexport const OfferCourses = () => (dispatch) => {\r\n    axios.post(\"/api/group/offer-courses\",  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n            });\r\n           dispatch(returnErrors(\"Courses Offered\", group.status));\r\n        })\r\n         .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n         })\r\n\r\n }\r\nexport const getYear = () => (dispatch) => {\r\n    axios.get(\"/api/group/year-active\",  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: GET_YEAR,\r\n                payload: group.data.data.data.year\r\n            });\r\n        })\r\n         .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n         })\r\n\r\n }\r\nexport const setYear = (data) => (dispatch) => {\r\n    console.log(data)\r\n    axios.post(\"/api/group/active-year\", data )\r\n        .then(group => {\r\n            dispatch({\r\n                type: GET_YEAR,\r\n                payload: group.data.data.data.year\r\n            });\r\n           dispatch(returnErrors(\"year updated\", group.status));\r\n        })\r\n         .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n         })\r\n\r\n }\r\nexport const updateGroup = (data, id) => (dispatch) => {\r\n    axios.put(`/api/group/${id}`, data,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n           dispatch(returnErrors(group.data.message, group.status));\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n}\r\nexport const deleteGroup = (id) => (dispatch) => {\r\n\r\n    axios.delete(`/api/group/${id}`,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n    OfferCourses, getYear, setYear\r\n} from \"../../actions/groupActions\";\r\nimport styled from 'styled-components'\r\nimport {\r\n    CButton,\r\n    CCard,\r\n    CCardBody,\r\n    CCardFooter,\r\n    CCardHeader,\r\n    CCol,\r\n    CForm,\r\n    CFormGroup,\r\n    CSelect\r\n} from '@coreui/react'\r\nconst MultiSelectLabel = styled.span`\r\n  font-size: 0.8rem;\r\n  color: var(--secondary-text-color);\r\n`;\r\nconst Settings = () => {\r\n    const [data, setData] = useState({});\r\n    const dispatch = useDispatch();\r\n    const year = useSelector((state) => state.group.year);\r\n    let arrayYears = []\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(setYear({ ...data }));\r\n        document.getElementById(\"resetStudent\").reset()\r\n    }\r\n    useEffect(() => {\r\n        dispatch(getYear())\r\n    }, [dispatch]);\r\n    const acayear1 = year? JSON.parse(year?.slice(0, 4)):2021\r\n    const years = () => {\r\n        for (let i = acayear1; i < acayear1 + 4; i++) {\r\n            arrayYears.push(`${i}-${i + 1} - Fall`)\r\n            arrayYears.push(`${i}-${i + 1} - Spring`)\r\n        }\r\n    }\r\n\r\n    years()\r\n    return (\r\n        <CCol xs=\"12\" md=\"15\">\r\n            <CCard>\r\n                <CCardHeader>\r\n                    Settings\r\n                </CCardHeader>\r\n                <CCardBody>\r\n                    <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\" id=\"resetStudent\">\r\n                        <CFormGroup row>\r\n                            <MultiSelectLabel>Acadamic Year :</MultiSelectLabel>\r\n                            <CSelect custom name=\"year\" id=\"select\" onChange={handleChange}>\r\n                                <option value=\"0\">Please select</option>\r\n                                {arrayYears.map(yea =>\r\n                                    <option value={yea}\r\n                                    selected={yea === year ? \"'selected'\" : null}\r\n                                    >{yea}</option>\r\n                                )}\r\n                            </CSelect>\r\n                        </CFormGroup>\r\n\r\n                    </CForm>\r\n                </CCardBody>\r\n                <CCardFooter>\r\n                    <CButton type=\"submit\" size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" onClick={handleSubmit} /> Submit</CButton>\r\n                    <CButton type=\"reset\" size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" onClick={() => { dispatch(OfferCourses()) }} />Offer Courses</CButton>\r\n                </CCardFooter>\r\n            </CCard>\r\n        </CCol>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n\r\n"],"sourceRoot":""}