{"version":3,"sources":["actions/groupActions.js","actions/roomActions.js","views/rooms/GroupRooms.js"],"names":["fetchGroup","dispatch","axios","get","then","api","type","GET_GROUPS","payload","data","catch","error","returnErrors","response","message","status","getGroup","id","group","ADD_GROUP","checkClash","ids","getGroupDepartment","GET_DEPARTMENT_GROUP","AddGroup","post","fetchRooms","GET_ROOMS","getRooms","rooms","ADD_ROOM","getAvailableRooms","day","start","end","AddRooms","AddRoomGroup","updateRooms","put","Create","useState","setData","useDispatch","useSelector","state","groups","handleChange","e","target","value","name","console","log","useEffect","timeStart","timeEnd","xs","md","action","method","encType","className","row","custom","onChange","htmlFor","map","dep","size","color","onClick","preventDefault","document","getElementById","reset"],"mappings":"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","file":"static/js/27.0bd4a71e.chunk.js","sourcesContent":["import { returnErrors } from \"./errorActions\";\r\nimport {\r\n    GET_GROUPS,\r\n    ADD_GROUP,\r\n    GET_DEPARTMENT_GROUP\r\n} from './types';\r\nimport axios from 'axios';\r\n//import Cookies from 'js-cookie';\r\n\r\n\r\nexport const fetchGroup = () => dispatch => {\r\n    axios.get(`/api/group`,  )\r\n        .then(api => {\r\n            dispatch({\r\n                type: GET_GROUPS,\r\n                payload: api.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const getGroup = (id) => dispatch => {\r\n    axios.get(`/api/group/${id}`,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const checkClash = (ids) => dispatch => {\r\n    axios.get(`/api/group/clash/[${ids}]`,  )\r\n        .then(group => {\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const getGroupDepartment = (id) => dispatch => {\r\n    axios.get(`/api/group/department/${id}` )\r\n        .then(group => {\r\n            dispatch({\r\n                type: GET_DEPARTMENT_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n       })\r\n}\r\nexport const AddGroup = (data) => (dispatch) => {\r\n    axios.post(\"/api/group/create\", data,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n           dispatch(returnErrors(group.data.message, group.status));\r\n        })\r\n         .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n         })\r\n\r\n }\r\nexport const updateGroup = (data, id) => (dispatch) => {\r\n    axios.put(`/api/group/${id}`, data,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n           dispatch(returnErrors(group.data.message, group.status));\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n}\r\nexport const deleteGroup = (id) => (dispatch) => {\r\n\r\n    axios.delete(`/api/group/${id}`,  )\r\n        .then(group => {\r\n            dispatch({\r\n                type: ADD_GROUP,\r\n                payload: group.data.data\r\n            });\r\n        })\r\n       .catch(error => {\r\n        dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\n","import {\r\n    GET_ROOMS,\r\n    ADD_ROOM\r\n} from './types';\r\nimport axios from 'axios';\r\nimport { returnErrors } from \"./errorActions\";\r\n//import Cookies from 'js-cookie';\r\n\r\n\r\nexport const fetchRooms = () => dispatch => {\r\n    axios.get(`/api/rooms`,  )\r\n        .then(api => {\r\n            dispatch({\r\n                type: GET_ROOMS,\r\n                payload: api.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const getRooms = (id) => dispatch => {\r\n    axios.get(`/api/rooms/${id}`,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: ADD_ROOM,\r\n                payload: rooms.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const getAvailableRooms = (day,start,end) => dispatch => {\r\n    axios.get(`/api/rooms/availability?day=${day}&start=${start}&end=${end}`,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: GET_ROOMS,\r\n                payload: rooms.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\nexport const AddRooms = (data) => (dispatch) => {\r\n    axios.post(\"/api/rooms/create\", data,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: ADD_ROOM,\r\n                payload: rooms.data.data\r\n            });\r\n            dispatch(returnErrors(rooms.data.message, rooms.status));\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n }\r\nexport const AddRoomGroup = (data) => (dispatch) => {\r\n    axios.post(\"/api/rooms//create/grouproom\", data,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: ADD_ROOM,\r\n                payload: rooms.data.data\r\n            });\r\n            dispatch(returnErrors(rooms.data.message, rooms.status));\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n }\r\nexport const updateRooms = (data, id) => (dispatch) => {\r\n    axios.put(`/api/rooms/${id}`, data,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: ADD_ROOM,\r\n                payload: rooms.data.data\r\n            });\r\n           dispatch(returnErrors(rooms.data.message, rooms.status));\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n\r\n}\r\nexport const deleteRooms = (id) => (dispatch) => {\r\n\r\n    axios.delete(`/api/rooms/${id}`,  )\r\n        .then(rooms => {\r\n            dispatch({\r\n                type: ADD_ROOM,\r\n                payload: rooms.data.data\r\n            });\r\n        })\r\n        .catch(error => {\r\n            dispatch(returnErrors(error.response.data.message, error.response.status));\r\n        })\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport {\r\n    CButton,\r\n    CCard,\r\n    CCardBody,\r\n    CCardFooter,\r\n    CCardHeader,\r\n    CCol,\r\n    CForm,\r\n    CFormGroup,\r\n    CInput,\r\n    CLabel,\r\n    CSelect,\r\n} from '@coreui/react'\r\nimport {\r\n    getAvailableRooms,\r\n    AddRoomGroup\r\n} from \"../../actions/roomActions\";\r\nimport {\r\n    fetchGroup\r\n} from \"../../actions/groupActions\";\r\nconst Create = () => {\r\n    const [data, setData] = useState({});\r\n    const dispatch = useDispatch();\r\n    const rooms = useSelector((state) => state.rooms.rooms);\r\n    const groups = useSelector((state) => state.group.groups);\r\n   \r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setData({\r\n            ...data,\r\n            [name]: value\r\n        })\r\n    }\r\n    console.log(data)\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(AddRoomGroup({ ...data }));\r\n        document.getElementById(\"resetCourse\").reset()\r\n    }\r\n    const reset = (e) => {\r\n        document.getElementById(\"resetCourse\").reset()\r\n    }    \r\n    useEffect(() => {\r\n        dispatch(getAvailableRooms(data.day,data.timeStart,data.timeEnd));\r\n        dispatch(fetchGroup());\r\n    }, [dispatch,data]);\r\n    return (\r\n        <CCol xs=\"12\" md=\"15\">\r\n            <CCard>\r\n                <CCardHeader>\r\n                    Assign rooms\r\n                </CCardHeader>\r\n                <CCardBody>\r\n                    <CForm action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\" id=\"resetCourse\">\r\n                       \r\n                    <CFormGroup row>\r\n                            <CCol md=\"3\">Day\r\n                            </CCol>\r\n                            <CCol xs=\"12\" md=\"9\">\r\n                                <CSelect custom name=\"day\" id=\"select\" onChange={handleChange}>\r\n                                    <option value=\"0\">Please select</option>\r\n                                    <option value=\"monday\">Monday</option>\r\n                                    <option value=\"tuesday\">Tuesday</option>\r\n                                    <option value=\"wednesday\">Wednesday</option>\r\n                                    <option value=\"thursday\">Thursday</option>\r\n                                    <option value=\"friday\">Friday</option>\r\n                                    <option value=\"saturday\">Saturday</option>\r\n                                </CSelect>\r\n                            </CCol>\r\n                        </CFormGroup>\r\n                        <CFormGroup row>\r\n                            <CCol md=\"3\">\r\n                                <CLabel htmlFor=\"number-input\">Start</CLabel>\r\n                            </CCol>\r\n                            <CCol xs=\"12\" md=\"9\">\r\n                                <CInput id=\"number-input\" type=\"time\" name=\"timeStart\" onChange={handleChange} />\r\n                            </CCol>\r\n                        </CFormGroup>\r\n                        <CFormGroup row>\r\n                            <CCol md=\"3\">\r\n                                <CLabel htmlFor=\"number-input\">End</CLabel>\r\n                            </CCol>\r\n                            <CCol xs=\"12\" md=\"9\">\r\n                                <CInput id=\"number-input\" type=\"time\" name=\"timeEnd\" onChange={handleChange} />\r\n                            </CCol>\r\n                        </CFormGroup>\r\n                        <CFormGroup row>\r\n                            <CCol md=\"3\">Room\r\n                            </CCol>\r\n                            <CCol xs=\"12\" md=\"9\">\r\n                                <CSelect custom name=\"roomId\" id=\"select\" onChange={handleChange}>\r\n                                    <option value=\"0\">Please select</option>\r\n                                    {rooms.map(dep=>\r\n                                    <option value={dep.id}>{dep.name}</option>\r\n                                        )}\r\n                                </CSelect>\r\n                            </CCol>\r\n                        </CFormGroup>\r\n                        <CFormGroup row>\r\n                            <CCol md=\"3\">Course\r\n                            </CCol>\r\n                            <CCol xs=\"12\" md=\"9\">\r\n                                <CSelect custom name=\"groupId\" id=\"select\" onChange={handleChange}>\r\n                                    <option value=\"0\">Please select</option>\r\n                                    {groups.map(dep=>\r\n                                    <option value={dep.id}>{dep.name}</option>\r\n                                        )}\r\n                                </CSelect>\r\n                            </CCol>\r\n                        </CFormGroup>\r\n                    </CForm>\r\n                </CCardBody>\r\n                <CCardFooter>\r\n                    <CButton type=\"submit\" size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" onClick={handleSubmit} /> Submit</CButton>\r\n                    <CButton type=\"reset\" size=\"sm\" color=\"danger\"><CIcon name=\"cil-ban\" onClick={reset} /> Reset</CButton>\r\n                </CCardFooter>\r\n            </CCard>\r\n        </CCol>\r\n    )\r\n}\r\n\r\nexport default Create\r\n\r\n"],"sourceRoot":""}