(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{657:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var c=n(5),r=n(646),s=n.n(r),a=function(){return function(e){s.a.get("/api/department").then((function(t){e({type:c.s,payload:t.data.data})}))}},o=function(e){return function(t){s.a.post("/api/department/create",e).then((function(e){t({type:c.e,payload:e.data.data})}))}}},659:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u}));var c=n(5),r=n(646),s=n.n(r),a=n(647),o=function(){return function(e){s.a.get("/api/course").then((function(t){e({type:c.r,payload:t.data.data})})).catch((function(t){e(Object(a.b)(t.response.data.message,t.response.status))}))}},i=function(e){return function(t){s.a.get("/api/course/".concat(e)).then((function(e){t({type:c.d,payload:e.data.data})})).catch((function(e){t(Object(a.b)(e.response.data.message,e.response.status))}))}},d=function(e){return function(t){s.a.post("/api/course/create",e).then((function(e){t({type:c.d,payload:e.data.data}),t(Object(a.b)(e.data.message,e.status))})).catch((function(e){t(Object(a.b)(e.response.data.message,e.response.status))}))}},u=function(e,t){return function(n){s.a.put("/api/course/".concat(t),e).then((function(e){n({type:c.d,payload:e.data.data}),n(Object(a.b)(e.data.message,e.status))})).catch((function(e){n(Object(a.b)(e.response.data.message,e.response.status))}))}}},777:function(e,t,n){"use strict";n.r(t);var c=n(648),r=n(1),s=n(654),a=n.n(s),o=n(175),i=n(176),d=n(2),u=n(645),j=n(657),l=n(659),b=n(18),m=function(e){var t=Object(r.useState)({}),n=Object(c.a)(t,2),s=n[0],a=n[1],m=Object(r.useState)(0),O=Object(c.a)(m,2),p=O[0],h=O[1],f=Object(o.b)(),x=Object(o.c)((function(e){return e.department.departments})),v=Object(o.c)((function(e){return e.courses.courses})),g=Object(o.c)((function(e){return e.courses.course})),C=function(e){var t=e.target,n=t.value,c=t.name;"departmentId"===c&&h(n),a(Object(d.a)(Object(d.a)({},s),{},Object(i.a)({},c,n)))},y=v.filter((function(e){return e.departmentId==p}));return Object(r.useEffect)((function(){f(Object(j.b)()),f(Object(l.b)())}),[f]),Object(b.jsx)(u.Q,{children:Object(b.jsx)(u.f,{children:Object(b.jsxs)(u.G,{show:e.modal,onClose:function(){return e.setModal(!e.modal)},color:"primary",children:[Object(b.jsx)(u.J,{closeButton:!0,children:Object(b.jsx)(u.K,{children:"Edit Course"})}),Object(b.jsx)(u.H,{children:Object(b.jsx)(u.f,{children:Object(b.jsxs)(u.s,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",id:"resetCourse",children:[Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:Object(b.jsx)(u.E,{htmlFor:"number-input",children:"Name"})}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsx)(u.z,{id:"number-input",type:"text",name:"name",onChange:C,defaultValue:null===g||void 0===g?void 0:g.name})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:Object(b.jsx)(u.E,{htmlFor:"number-input",children:"Code"})}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsx)(u.z,{id:"number-input",type:"text",name:"code",onChange:C,defaultValue:null===g||void 0===g?void 0:g.code})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:Object(b.jsx)(u.E,{htmlFor:"number-input",children:"Semester"})}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsx)(u.z,{id:"number-input",type:"number",name:"semester",onChange:C,defaultValue:null===g||void 0===g?void 0:g.semester})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:"Department"}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsxs)(u.R,{custom:!0,name:"departmentId",id:"select",onChange:C,children:[Object(b.jsx)("option",{value:"0",children:"Please select"}),x.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.name})}))]})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:"Prerequisites"}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsxs)(u.R,{custom:!0,name:"prerequisites",id:"select",onChange:C,children:[Object(b.jsx)("option",{value:"0",children:"Please select"}),y.map((function(e){return Object(b.jsx)("option",{value:e.code,children:e.name})}))]})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:Object(b.jsx)(u.E,{htmlFor:"number-input",children:"Credit"})}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsx)(u.z,{id:"number-input",type:"number",name:"credit",onChange:C,defaultValue:null===g||void 0===g?void 0:g.credit})})]}),Object(b.jsxs)(u.t,{row:!0,children:[Object(b.jsx)(u.j,{md:"3",children:Object(b.jsx)(u.E,{htmlFor:"number-input",children:"ECT5"})}),Object(b.jsx)(u.j,{xs:"12",md:"9",children:Object(b.jsx)(u.z,{id:"number-input",type:"number",name:"ECT5",onChange:C,defaultValue:null===g||void 0===g?void 0:g.ECT5})})]})]})})}),Object(b.jsxs)(u.I,{children:[Object(b.jsx)(u.d,{color:"primary",onClick:function(t){e.setModal(!e.modal),function(e){e.preventDefault(),f(Object(l.d)(Object(d.a)({},s),g.id)),document.getElementById("resetCourse").reset()}(t)},children:"Save changes"})," ",Object(b.jsx)(u.d,{color:"secondary",onClick:function(){return e.setModal(!e.modal)},children:"Cancel"})]})]})})})};t.default=function(){var e=Object(o.c)((function(e){return e.courses.courses})),t=Object(o.c)((function(e){return e.courses.course})),n=Object(o.c)((function(e){return e.auth.user})),s=Object(r.useState)(!1),i=Object(c.a)(s,2),d=i[0],u=i[1],j=e.filter((function(e){return e.departmentId===(null===n||void 0===n?void 0:n.department.id)||4===e.departmentId})),O=Object(o.b)();Object(r.useEffect)((function(){O(Object(l.b)())}),[O,t]);var p=[{selector:"name",name:"Name",sortable:!0},{selector:"code",name:"Code",sortable:!0},{selector:"semester",name:"Semester",sortable:!0},{selector:"credit",name:"Credit",sortable:!0},{selector:"ECT5",name:"ECT5",sortable:!0},{name:"Actions",cell:function(e){return Object(b.jsxs)("div",{className:"table-icon",children:[Object(b.jsx)("span",{style:{margin:"1rem",cursor:"pointer"},onClick:function(){u(!d),O(Object(l.c)(e.id))},children:"Edit"}),Object(b.jsx)("span",{children:"Delete"})]})},ignoreRowClick:!0,allowOverflow:!0}],h=p.filter((function(e){return"Action"!==e.name}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{modal:d,setModal:u}),Object(b.jsx)(a.a,{columns:"Student"===n.status?h:p,data:j||[],striped:!0,responsive:!0,pagination:!0,highlightOnHover:!0,subHeaderAlign:"center",noHeader:!0})]})}}}]);
//# sourceMappingURL=25.c6df00d4.chunk.js.map